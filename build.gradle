apply plugin: 'ear'

dependencies {
    deploy project(path: ':timereporter-web', configuration: 'archives')
    deploy project(path: ':timereporter-rest', configuration: 'archives')
    deploy project(path: ':timereporter-ws', configuration: 'archives')
    deploy project(path: ':timereporter-services', configuration: 'archives')
    earlib project(path: ':timereporter-api', configuration: 'archives')
}

ear {
    deploymentDescriptor {
        applicationName = "TimeReporter"
        displayName = "Time Reporter"
        description = "This is my Time Reporter web-application"
    }
}

task autodeploy(type: Copy, dependsOn: build) {
    from 'build/libs'
    into wildflyAutodeployDirProp
}